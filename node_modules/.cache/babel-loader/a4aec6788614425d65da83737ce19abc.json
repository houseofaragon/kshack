{"ast":null,"code":"import _objectSpread from \"/Users/jak/repos/karen/kshack/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _taggedTemplateLiteral from \"/Users/jak/repos/karen/kshack/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\n\nvar _jsxFileName = \"/Users/jak/repos/karen/kshack/src/components/Artists.js\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useMemo, Suspense } from 'react';\nimport { Canvas, useLoader } from '@react-three/fiber';\nimport { TextureLoader } from \"three/src/loaders/TextureLoader\"; // import vertex from '../assets/vertex.glsl'\n// import fragment from '../assets/fragment.glsl'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar ArtistsWrapper = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 20vw;\\n  left: 5vw;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n\"])));\nvar ArtistWrapper = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\ndisplay: grid;\\n--column-gap: 2rem;\\n--row-gap: 10vh;\\n--mwidth: 400px;\\n--columns: 3;\\nmax-width: calc(var(--mwidth) * var(--columns) + (var(--columns) - 1) * var(--column-gap));\\nwidth: 100%;\\nmargin: 0 auto;\\ngrid-template-columns: repeat(auto-fill, minmax(calc(var(--mwidth)/2), var(--mwidth)));\\ngrid-column-gap: var(--column-gap);\\ngrid-row-gap: var(--row-gap);\\njustify-content: center;\\npadding: 4rem 0 20rem;\\nmargin-top: 13rem;\\n\"])));\nvar Number = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    position: absolute;\\n\"])));\nexport var ARTISTS = [{\n  id: 1,\n  name: \"ronnie-makebelieve\",\n  album: \"poop bum\",\n  song: \"sleep.wav\",\n  description: \"chill ronnies\"\n}, {\n  id: 2,\n  name: \"sleep-300\",\n  album: \"poop bum\",\n  song: \"sleep.wav\",\n  description: \"chill dudes\"\n}, {\n  id: 3,\n  name: \"sleep-300\",\n  album: \"poop bum\",\n  song: \"sleep.wav\",\n  description: \"chill dudes\"\n}];\nexport function Artists() {\n  var _this = this;\n\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Canvas, {\n      children: ARTISTS.map(function (artist, index) {\n        return /*#__PURE__*/_jsxDEV(Artist, {\n          artist: artist,\n          index: index\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 20\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_c = Artists;\n\nfunction Artist(_ref) {\n  var artist = _ref.artist,\n      index = _ref.index;\n  var imgSrc = \"\".concat(artist.name, \".png\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"item\",\n    children: [/*#__PURE__*/_jsxDEV(ArtistImage, {\n      src: imgSrc,\n      index: index\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n      className: \"item__fig js-plane\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aspect\",\n        style: {\n          aspect: \"151.75%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"item__img\",\n        src: imgSrc,\n        alt: \"\".concat(artist.name, \" image\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"item__pretitle\",\n      children: artist.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"item__title\",\n      children: artist.album\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"item__counter\",\n      children: artist.id < 10 ? \"0\".concat(artist.id) : artist.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"item__description\",\n      children: artist.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = Artist;\nvar fragmentShader = \"\\n  varying vec3 Normal;\\n  varying vec3 Position;\\n\\n  uniform vec3 Ka;\\n  uniform vec3 Kd;\\n  uniform vec3 Ks;\\n  uniform vec4 LightPosition;\\n  uniform vec3 LightIntensity;\\n  uniform float Shininess;\\n\\n  vec3 phong() {\\n    vec3 n = normalize(Normal);\\n    vec3 s = normalize(vec3(LightPosition) - Position);\\n    vec3 v = normalize(vec3(-Position));\\n    vec3 r = reflect(-s, n);\\n\\n    vec3 ambient = Ka;\\n    vec3 diffuse = Kd * max(dot(s, n), 0.0);\\n    vec3 specular = Ks * pow(max(dot(r, v), 0.0), Shininess);\\n\\n    return LightIntensity * (ambient + diffuse + specular);\\n  }\\n\\n  void main() {\\n    vec3 blue = vec3(0.0, 0.0, 1.0);\\n    gl_FragColor = vec4(blue*phong(), 1.0);\\n}\";\nvar vertexShader = \"\\n  varying vec3 Normal;\\n  varying vec3 Position;\\n\\n  void main() {\\n    Normal = normalize(normalMatrix * normal);\\n    Position = vec3(modelViewMatrix * vec4(position, 1.0));\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  }\\n\";\n/*\n   Load texture into shader\n   https://codesandbox.io/s/divine-shape-wqf6f?from-embed=&file=/src/App.js:90-155\n*/\n\nfunction ArtistImage(_ref2) {\n  _s();\n\n  var src = _ref2.src,\n      index = _ref2.index;\n  console.log('fragment', fragmentShader);\n  var texture = useLoader(TextureLoader, src);\n  console.log(texture);\n  var data = useMemo(function () {\n    return {\n      uniforms: {\n        uTexture: {\n          value: {\n            texture: _objectSpread(_objectSpread({}, texture), {}, {\n              generateMipmaps: false\n            })\n          }\n        },\n        uTime: {\n          value: 0\n        },\n        uProg: {\n          value: 0\n        },\n        uIndex: {\n          value: index\n        }\n      },\n      fragmentShader: fragmentShader,\n      vertexShader: vertexShader\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n      children: [/*#__PURE__*/_jsxDEV(\"planeBufferGeometry\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"shaderMaterial\", _objectSpread({\n        attach: \"material\"\n      }, data), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(ArtistImage, \"C4xoomjLggMQljnwaCNQiz3g+lI=\", false, function () {\n  return [useLoader];\n});\n\n_c3 = ArtistImage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Artists\");\n$RefreshReg$(_c2, \"Artist\");\n$RefreshReg$(_c3, \"ArtistImage\");","map":{"version":3,"sources":["/Users/jak/repos/karen/kshack/src/components/Artists.js"],"names":["styled","useMemo","Suspense","Canvas","useLoader","TextureLoader","ArtistsWrapper","div","ArtistWrapper","Number","ARTISTS","id","name","album","song","description","Artists","map","artist","index","Artist","imgSrc","aspect","fragmentShader","vertexShader","ArtistImage","src","console","log","texture","data","uniforms","uTexture","value","generateMipmaps","uTime","uProg","uIndex"],"mappings":"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","sourcesContent":["import styled from 'styled-components'\nimport { useMemo, Suspense } from 'react'\nimport { Canvas, useLoader } from '@react-three/fiber'\nimport { TextureLoader } from \"three/src/loaders/TextureLoader\";\n\n// import vertex from '../assets/vertex.glsl'\n// import fragment from '../assets/fragment.glsl'\n\nconst ArtistsWrapper = styled.div`\n  position: absolute;\n  top: 20vw;\n  left: 5vw;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`\n\nconst ArtistWrapper = styled.div`\ndisplay: grid;\n--column-gap: 2rem;\n--row-gap: 10vh;\n--mwidth: 400px;\n--columns: 3;\nmax-width: calc(var(--mwidth) * var(--columns) + (var(--columns) - 1) * var(--column-gap));\nwidth: 100%;\nmargin: 0 auto;\ngrid-template-columns: repeat(auto-fill, minmax(calc(var(--mwidth)/2), var(--mwidth)));\ngrid-column-gap: var(--column-gap);\ngrid-row-gap: var(--row-gap);\njustify-content: center;\npadding: 4rem 0 20rem;\nmargin-top: 13rem;\n`\nconst Number = styled.div`\n    position: absolute;\n`\n\nexport const ARTISTS = [\n  { id: 1, name: \"ronnie-makebelieve\", album: \"poop bum\", song: \"sleep.wav\", description: \"chill ronnies\" },\n  { id: 2, name: \"sleep-300\", album: \"poop bum\", song: \"sleep.wav\", description: \"chill dudes\" },\n  { id: 3, name: \"sleep-300\", album: \"poop bum\",  song: \"sleep.wav\", description: \"chill dudes\" },\n];\n\nexport function Artists() {\n  return (\n        <Suspense fallback={<div>loading...</div>}>\n        <Canvas>\n        {ARTISTS.map((artist, index) => {\n            return <Artist artist={artist} index={index} key={index} />\n        })}\n        </Canvas>\n        </Suspense>\n  )\n}\n\nfunction Artist({artist, index}) {\n    const imgSrc = `${artist.name}.png` \n    return (\n        <div className=\"item\" >\n          <ArtistImage src={imgSrc} index={index} />\n          <figure className=\"item__fig js-plane\">\n            <div className=\"aspect\" style={{aspect: \"151.75%\"}}></div>\n            <img className=\"item__img\" src={imgSrc} alt={`${artist.name} image`} />\n          </figure>\n          <span className=\"item__pretitle\">{artist.name}</span>\n          <h2 className=\"item__title\">{artist.album}</h2>\n          <span className=\"item__counter\">{artist.id < 10 ? `0${artist.id}` : artist.id}</span>\n          <p className=\"item__description\">{artist.description}</p>\n        </div>\n    )\n}\n\nconst fragmentShader = `\n  varying vec3 Normal;\n  varying vec3 Position;\n\n  uniform vec3 Ka;\n  uniform vec3 Kd;\n  uniform vec3 Ks;\n  uniform vec4 LightPosition;\n  uniform vec3 LightIntensity;\n  uniform float Shininess;\n\n  vec3 phong() {\n    vec3 n = normalize(Normal);\n    vec3 s = normalize(vec3(LightPosition) - Position);\n    vec3 v = normalize(vec3(-Position));\n    vec3 r = reflect(-s, n);\n\n    vec3 ambient = Ka;\n    vec3 diffuse = Kd * max(dot(s, n), 0.0);\n    vec3 specular = Ks * pow(max(dot(r, v), 0.0), Shininess);\n\n    return LightIntensity * (ambient + diffuse + specular);\n  }\n\n  void main() {\n    vec3 blue = vec3(0.0, 0.0, 1.0);\n    gl_FragColor = vec4(blue*phong(), 1.0);\n}`\n\nconst vertexShader = `\n  varying vec3 Normal;\n  varying vec3 Position;\n\n  void main() {\n    Normal = normalize(normalMatrix * normal);\n    Position = vec3(modelViewMatrix * vec4(position, 1.0));\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n`\n/*\n   Load texture into shader\n   https://codesandbox.io/s/divine-shape-wqf6f?from-embed=&file=/src/App.js:90-155\n*/\nfunction ArtistImage({src, index}) {\n    console.log('fragment',fragmentShader)\n    const texture = useLoader(TextureLoader, src);\n    console.log(texture)\n    const data = useMemo(\n        () => ({\n            uniforms: {\n                uTexture: { value: {\n                    texture: {\n                        ...texture,\n                        generateMipmaps: false,\n                    } \n                }},\n                uTime: { value: 0 },\n                uProg: { value: 0 },\n                uIndex: { value: index },\n            },\n            fragmentShader,\n            vertexShader\n        }),\n        []\n    )\n    \n  return (\n    <>\n        <mesh>\n        <planeBufferGeometry />\n        <shaderMaterial attach=\"material\" {...data} />\n        </mesh>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}