"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/extends"),r=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),t=require("react"),n=require("three"),a=require("@react-three/fiber"),s=require("three-stdlib"),i=require("react-merge-refs");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var c=u(e),d=u(r),f=o(t),l=u(i);a.extend({EffectComposer:s.EffectComposer,RenderPass:s.RenderPass,ShaderPass:s.ShaderPass});var m=function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(e){return!1}},h=f.forwardRef((function(e,r){var t=e.children,i=e.multisamping,u=void 0===i?8:i,o=e.renderIndex,h=void 0===o?1:o,b=e.disableGamma,p=void 0!==b&&b,g=e.disableRenderPass,v=void 0!==g&&g,P=d.default(e,["children","multisamping","renderIndex","disableGamma","disableRenderPass"]),R=f.useRef(),x=a.useThree((function(e){return e.scene})),E=a.useThree((function(e){return e.camera})),j=a.useThree((function(e){return e.gl})),w=a.useThree((function(e){return e.size})),y=f.useState((function(){if(m()&&u>0){var e=new n.WebGLMultisampleRenderTarget(w.width,w.height,{format:n.RGBAFormat,encoding:n.sRGBEncoding});return e.samples=8,e}}))[0];return f.useEffect((function(){var e,r;null==(e=R.current)||e.setSize(w.width,w.height),null==(r=R.current)||r.setPixelRatio(j.getPixelRatio())}),[j,w]),a.useFrame((function(){var e;return null==(e=R.current)?void 0:e.render()}),h),f.createElement("effectComposer",c.default({ref:l.default([r,R]),args:[j,y]},P),!v&&f.createElement("renderPass",{attachArray:"passes",args:[x,E]}),!p&&f.createElement("shaderPass",{attachArray:"passes",args:[s.GammaCorrectionShader]}),t)}));exports.Effects=h,exports.isWebGL2Available=m;
